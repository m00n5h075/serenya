{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.213.0"},"children":{"SerenyaBackend-dev":{"id":"SerenyaBackend-dev","path":"SerenyaBackend-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.213.0"},"children":{"SerenyaEncryptionKey":{"id":"SerenyaEncryptionKey","path":"SerenyaBackend-dev/SerenyaEncryptionKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaEncryptionKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"description":"Serenya dev encryption key for PHI data","enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"},{"Action":["kms:CreateGrant","kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Condition":{"StringEquals":{"kms:ViaService":"secretsmanager.eu-west-1.amazonaws.com"}},"Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"SerenyaVpc":{"id":"SerenyaVpc","path":"SerenyaBackend-dev/SerenyaVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.213.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"Acl":{"id":"Acl","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"SerenyaVpcPublicSubnet1RouteTable106C458A"},"subnetId":{"Ref":"SerenyaVpcPublicSubnet1SubnetF87D5348"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"SerenyaVpcIGW6F2ACAD3"},"routeTableId":{"Ref":"SerenyaVpcPublicSubnet1RouteTable106C458A"}}}},"EIP":{"id":"EIP","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["SerenyaVpcPublicSubnet1EIPAA478EBC","AllocationId"]},"subnetId":{"Ref":"SerenyaVpcPublicSubnet1SubnetF87D5348"},"tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.213.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet2"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"Acl":{"id":"Acl","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet2"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"SerenyaVpcPublicSubnet2RouteTable41C6D820"},"subnetId":{"Ref":"SerenyaVpcPublicSubnet2SubnetA76F987B"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SerenyaBackend-dev/SerenyaVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"SerenyaVpcIGW6F2ACAD3"},"routeTableId":{"Ref":"SerenyaVpcPublicSubnet2RouteTable41C6D820"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.213.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet1"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"Acl":{"id":"Acl","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet1"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"SerenyaVpcPrivateSubnet1RouteTableE7AD75E2"},"subnetId":{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"SerenyaVpcPublicSubnet1NATGatewayC096DC8D"},"routeTableId":{"Ref":"SerenyaVpcPrivateSubnet1RouteTableE7AD75E2"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.213.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet2"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"Acl":{"id":"Acl","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet2"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"SerenyaVpcPrivateSubnet2RouteTable2474897C"},"subnetId":{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SerenyaBackend-dev/SerenyaVpc/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"SerenyaVpcPublicSubnet1NATGatewayC096DC8D"},"routeTableId":{"Ref":"SerenyaVpcPrivateSubnet2RouteTable2474897C"}}}}}},"DatabaseSubnet1":{"id":"DatabaseSubnet1","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.213.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Database"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet1"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"Acl":{"id":"Acl","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet1"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"SerenyaVpcDatabaseSubnet1RouteTableE1B7D741"},"subnetId":{"Ref":"SerenyaVpcDatabaseSubnet1Subnet7E7692B7"}}}}}},"DatabaseSubnet2":{"id":"DatabaseSubnet2","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.213.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Database"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet2"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"Acl":{"id":"Acl","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet2"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SerenyaBackend-dev/SerenyaVpc/DatabaseSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"SerenyaVpcDatabaseSubnet2RouteTable0800FF4F"},"subnetId":{"Ref":"SerenyaVpcDatabaseSubnet2SubnetABEADD14"}}}}}},"IGW":{"id":"IGW","path":"SerenyaBackend-dev/SerenyaVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"SerenyaBackend-dev/SerenyaVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"SerenyaBackend-dev/SerenyaVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"SerenyaVpcIGW6F2ACAD3"},"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"SerenyaBackend-dev/SerenyaVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.213.0","metadata":[]},"children":{"Default":{"id":"Default","path":"SerenyaBackend-dev/SerenyaVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"SerenyaBackend-dev/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.213.0"},"children":{"Staging":{"id":"Staging","path":"SerenyaBackend-dev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"Role":{"id":"Role","path":"SerenyaBackend-dev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}},"Handler":{"id":"Handler","path":"SerenyaBackend-dev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"DatabaseSecret":{"id":"DatabaseSecret","path":"SerenyaBackend-dev/DatabaseSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/DatabaseSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Serenya dev database credentials","generateSecretString":{"secretStringTemplate":"{\"username\":\"serenya_admin\"}","generateStringKey":"password","excludeCharacters":"\"@/\\","passwordLength":32},"kmsKeyId":{"Fn::GetAtt":["SerenyaEncryptionKey30AB90B6","Arn"]},"name":"serenya/dev/database"}}},"Attachment":{"id":"Attachment","path":"SerenyaBackend-dev/DatabaseSecret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/DatabaseSecret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"DatabaseSecret86DBB7B3"},"targetId":{"Ref":"SerenyaDatabase21D84656"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"DatabaseSecurityGroup":{"id":"DatabaseSecurityGroup","path":"SerenyaBackend-dev/DatabaseSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/DatabaseSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for PostgreSQL database","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}},"from SerenyaBackenddevLambdaSecurityGroupC486A3BA:5432":{"id":"from SerenyaBackenddevLambdaSecurityGroupC486A3BA:5432","path":"SerenyaBackend-dev/DatabaseSecurityGroup/from SerenyaBackenddevLambdaSecurityGroupC486A3BA:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow Lambda access to PostgreSQL","fromPort":5432,"groupId":{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]},"toPort":5432}}}}},"LambdaSecurityGroup":{"id":"LambdaSecurityGroup","path":"SerenyaBackend-dev/LambdaSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/LambdaSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Lambda functions","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"SerenyaVpcD4692594"}}}}}},"SerenyaDatabase":{"id":"SerenyaDatabase","path":"SerenyaBackend-dev/SerenyaDatabase","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.213.0","metadata":[]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"SerenyaBackend-dev/SerenyaDatabase/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.213.0","metadata":[]},"children":{"Default":{"id":"Default","path":"SerenyaBackend-dev/SerenyaDatabase/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for SerenyaDatabase database","subnetIds":[{"Ref":"SerenyaVpcDatabaseSubnet1Subnet7E7692B7"},{"Ref":"SerenyaVpcDatabaseSubnet2SubnetABEADD14"}]}}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaDatabase/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","backupRetentionPeriod":1,"copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.micro","dbName":"serenya","dbSubnetGroupName":{"Ref":"SerenyaDatabaseSubnetGroup50CA9027"},"deleteAutomatedBackups":true,"deletionProtection":false,"engine":"postgres","engineVersion":"15.8","kmsKeyId":{"Fn::GetAtt":["SerenyaEncryptionKey30AB90B6","Arn"]},"masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DatabaseSecret86DBB7B3"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DatabaseSecret86DBB7B3"},":SecretString:password::}}"]]},"maxAllocatedStorage":50,"multiAz":false,"publiclyAccessible":false,"storageEncrypted":true,"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]}]}}}}},"SerenyaApiSecrets":{"id":"SerenyaApiSecrets","path":"SerenyaBackend-dev/SerenyaApiSecrets","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApiSecrets/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Serenya dev API secrets","generateSecretString":{"secretStringTemplate":"{\"jwtSecret\":\"\",\"anthropicApiKey\":\"\",\"googleClientId\":\"\",\"googleClientSecret\":\"\"}","generateStringKey":"jwtSecret","excludeCharacters":"\"@/\\","passwordLength":64},"kmsKeyId":{"Fn::GetAtt":["SerenyaEncryptionKey30AB90B6","Arn"]},"name":"serenya/dev/api-secrets"}}}}},"TempFilesBucket":{"id":"TempFilesBucket","path":"SerenyaBackend-dev/TempFilesBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/TempFilesBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["SerenyaEncryptionKey30AB90B6","Arn"]}}}]},"bucketName":{"Fn::Join":["",["serenya-temp-files-dev-",{"Ref":"AWS::AccountId"}]]},"corsConfiguration":{"corsRules":[{"maxAge":3600,"allowedHeaders":["*"],"allowedMethods":["POST","PUT"],"allowedOrigins":["http://localhost:*"]}]},"lifecycleConfiguration":{"rules":[{"expirationInDays":1,"id":"DeleteTempFiles","status":"Enabled"},{"abortIncompleteMultipartUpload":{"daysAfterInitiation":1},"id":"DeleteIncompleteUploads","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"SerenyaBackend-dev/TempFilesBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/TempFilesBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"TempFilesBucketC6626CD1"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["TempFilesBucketC6626CD1","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["TempFilesBucketC6626CD1","Arn"]},"/*"]]}]},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["TempFilesBucketC6626CD1","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["TempFilesBucketC6626CD1","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"SerenyaBackend-dev/TempFilesBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.213.0","metadata":[]},"children":{"Default":{"id":"Default","path":"SerenyaBackend-dev/TempFilesBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"SerenyaBackend-dev/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.213.0"},"children":{"Staging":{"id":"Staging","path":"SerenyaBackend-dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"Role":{"id":"Role","path":"SerenyaBackend-dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}},"Handler":{"id":"Handler","path":"SerenyaBackend-dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LambdaExecutionRole":{"id":"LambdaExecutionRole","path":"SerenyaBackend-dev/LambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[]},"children":{"ImportLambdaExecutionRole":{"id":"ImportLambdaExecutionRole","path":"SerenyaBackend-dev/LambdaExecutionRole/ImportLambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/LambdaExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]}],"policies":[{"policyName":"SerenyaLambdaPolicy","policyDocument":{"Statement":[{"Action":"rds-db:connect","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:rds-db:eu-west-1:",{"Ref":"AWS::AccountId"},":dbuser:",{"Fn::GetAtt":["SerenyaDatabase21D84656","DbiResourceId"]},"/serenya_app"]]}},{"Action":["s3:DeleteObject","s3:GetObject","s3:PutObject","s3:PutObjectAcl"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["TempFilesBucketC6626CD1","Arn"]},"/*"]]}},{"Action":["secretsmanager:CreateSecret","secretsmanager:GetSecretValue","secretsmanager:UpdateSecret"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:secretsmanager:eu-west-1:",{"Ref":"AWS::AccountId"},":secret:serenya/dev/app-database*"]]},{"Ref":"DatabaseSecret86DBB7B3"},{"Ref":"SerenyaApiSecretsA24BF8CE"}]},{"Action":["kms:Decrypt","kms:GenerateDataKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["SerenyaEncryptionKey30AB90B6","Arn"]}}],"Version":"2012-10-17"}}]}}}}},"AuthFunction":{"id":"AuthFunction","path":"SerenyaBackend-dev/AuthFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/AuthFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/AuthFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/AuthFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/AuthFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"026de93ddc5f0053279e44e9babf223ed04cc40796e390cb023bae822ba5cdb3.zip"},"description":"Google OAuth verification and JWT generation","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"auth.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/AuthFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/AuthFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/AuthFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"UserProfileFunction":{"id":"UserProfileFunction","path":"SerenyaBackend-dev/UserProfileFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/UserProfileFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/UserProfileFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/UserProfileFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/UserProfileFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"c24bdd784ab6d712a995be83557dead7d59491f43c715627bc0fd6a347f7ed86.zip"},"description":"User profile management","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"userProfile.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":15,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/UserProfileFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/UserProfileFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/UserProfileFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"UploadFunction":{"id":"UploadFunction","path":"SerenyaBackend-dev/UploadFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/UploadFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/UploadFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/UploadFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/UploadFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"a96c2bf039e56a4db8b54dbe715adbaa2289ddda38b249a0a33484c812730e65.zip"},"description":"File upload with virus scanning","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"upload.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":60,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/UploadFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/UploadFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/UploadFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"ProcessFunction":{"id":"ProcessFunction","path":"SerenyaBackend-dev/ProcessFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/ProcessFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/ProcessFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/ProcessFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/ProcessFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"6c60c896d7e35e05fd1cb143af97e491505366c1574b986d30b7a4fd5219bcd0.zip"},"description":"AI processing with Anthropic Claude","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"process.handler","memorySize":1024,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":180,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/ProcessFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/ProcessFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/ProcessFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"StatusFunction":{"id":"StatusFunction","path":"SerenyaBackend-dev/StatusFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/StatusFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/StatusFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/StatusFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/StatusFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"0c2e92dca7d853080649d64f5662e238d8d83ed9b9ee5444c62a704c612b0653.zip"},"description":"Processing status tracking","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"status.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":15,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/StatusFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/StatusFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/StatusFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"ResultFunction":{"id":"ResultFunction","path":"SerenyaBackend-dev/ResultFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/ResultFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/ResultFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/ResultFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/ResultFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"c789aa47fcf887914a8a3701205c8a3ac5fd90562e7f2690e8aab1a475c5cd6b.zip"},"description":"Results retrieval","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"result.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/ResultFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/ResultFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/ResultFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"RetryFunction":{"id":"RetryFunction","path":"SerenyaBackend-dev/RetryFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/RetryFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/RetryFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/RetryFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/RetryFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"2fd43a9746007e51062e649b95ba9df5d4c768b4d955f468a6a0fd11bc28f524.zip"},"description":"Processing retry management","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"retry.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/RetryFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/RetryFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/RetryFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"DoctorReportFunction":{"id":"DoctorReportFunction","path":"SerenyaBackend-dev/DoctorReportFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/DoctorReportFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/DoctorReportFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/DoctorReportFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/DoctorReportFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"d8b2fd2b19c266cbd08cb02b48337144f1425fceef85852ace17ba3eba0292de.zip"},"description":"Premium doctor report generation","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"doctorReport.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":120,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/DoctorReportFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/DoctorReportFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/DoctorReportFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"AuthorizerFunction":{"id":"AuthorizerFunction","path":"SerenyaBackend-dev/AuthorizerFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/AuthorizerFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/AuthorizerFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/AuthorizerFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/AuthorizerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"51dbe1af963c1317ceefda80ed6c5fa7ea9b96fa5c6321c22863d1f648ad9a39.zip"},"description":"JWT token authorization","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true","TOKEN_ISSUER":"serenya.health","TOKEN_AUDIENCE":"serenya-mobile-app"}},"handler":"authorizer.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":15,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/AuthorizerFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/AuthorizerFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/AuthorizerFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"SerenyaBackenddevJWTAuthorizer6D9C8E7E:Permissions":{"id":"SerenyaBackenddevJWTAuthorizer6D9C8E7E:Permissions","path":"SerenyaBackend-dev/AuthorizerFunction/SerenyaBackenddevJWTAuthorizer6D9C8E7E:Permissions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthorizerFunctionB4DBAA43","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/authorizers/",{"Ref":"JWTAuthorizerE8D8D90E"}]]}}}}}},"DatabaseInitFunction":{"id":"DatabaseInitFunction","path":"SerenyaBackend-dev/DatabaseInitFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[]},"children":{"Code":{"id":"Code","path":"SerenyaBackend-dev/DatabaseInitFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"SerenyaBackend-dev/DatabaseInitFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"SerenyaBackend-dev/DatabaseInitFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/DatabaseInitFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-eu-west-1"},"s3Key":"3198b5a1cc31ff781337e263f353b573677900c8878e5b24faa0c5ef8b57d497.zip"},"description":"Database schema initialization and migrations","environment":{"variables":{"REGION":"eu-west-1","ENVIRONMENT":"dev","DB_HOST":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Address"]},"DB_PORT":{"Fn::GetAtt":["SerenyaDatabase21D84656","Endpoint.Port"]},"DB_NAME":"serenya","DB_SECRET_ARN":{"Ref":"DatabaseSecret86DBB7B3"},"TEMP_BUCKET_NAME":{"Ref":"TempFilesBucketC6626CD1"},"API_SECRETS_ARN":{"Ref":"SerenyaApiSecretsA24BF8CE"},"KMS_KEY_ID":{"Ref":"SerenyaEncryptionKey30AB90B6"},"ENABLE_DETAILED_LOGGING":"true"}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":300,"vpcConfig":{"subnetIds":[{"Ref":"SerenyaVpcPrivateSubnet1Subnet2E20D858"},{"Ref":"SerenyaVpcPrivateSubnet2SubnetD7BD4087"}],"securityGroupIds":[{"Fn::GetAtt":["LambdaSecurityGroup0BD9FC99","GroupId"]}]}}}},"LogRetention":{"id":"LogRetention","path":"SerenyaBackend-dev/DatabaseInitFunction/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.213.0"},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/DatabaseInitFunction/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"LogGroup":{"id":"LogGroup","path":"SerenyaBackend-dev/DatabaseInitFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}}}},"JWTAuthorizer":{"id":"JWTAuthorizer","path":"SerenyaBackend-dev/JWTAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.TokenAuthorizer","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/JWTAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"authorizerResultTtlInSeconds":300,"authorizerUri":{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::GetAtt":["AuthorizerFunctionB4DBAA43","Arn"]}]}]},":apigateway:",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["AuthorizerFunctionB4DBAA43","Arn"]}]}]},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthorizerFunctionB4DBAA43","Arn"]},"/invocations"]]},"identitySource":"method.request.header.Authorization","name":"SerenyaJWTAuthorizer","restApiId":{"Ref":"SerenyaApi961F1E55"},"type":"TOKEN"}}}}},"SerenyaApi":{"id":"SerenyaApi","path":"SerenyaBackend-dev/SerenyaApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"Serenya AI Health Agent API - dev","endpointConfiguration":{"types":["REGIONAL"]},"name":"serenya-api-dev"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"SerenyaBackend-dev/SerenyaApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"SerenyaBackend-dev/SerenyaApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"SerenyaBackend-dev/SerenyaApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["SerenyaApiCloudWatchRole9E2E72EB","Arn"]}}}},"Deployment":{"id":"Deployment","path":"SerenyaBackend-dev/SerenyaApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Serenya AI Health Agent API - dev","restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"SerenyaBackend-dev/SerenyaApi/DeploymentStage.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/DeploymentStage.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"SerenyaApiDeployment9A430DAEb1f7cf150d6faa49132bf0d3eef4c827"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":200,"throttlingRateLimit":100}],"restApiId":{"Ref":"SerenyaApi961F1E55"},"stageName":"dev"}}}}},"Endpoint":{"id":"Endpoint","path":"SerenyaBackend-dev/SerenyaApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"Default":{"id":"Default","path":"SerenyaBackend-dev/SerenyaApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.213.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Fn::GetAtt":["SerenyaApi961F1E55","RootResourceId"]},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"auth":{"id":"auth","path":"SerenyaBackend-dev/SerenyaApi/Default/auth","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["SerenyaApi961F1E55","RootResourceId"]},"pathPart":"auth","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiauthA4A1C07F"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"google":{"id":"google","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/google","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/google/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiauthA4A1C07F"},"pathPart":"google","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/google/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/google/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiauthgoogle2CDDBC50"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"POST":{"id":"POST","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/google/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..auth.google":{"id":"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..auth.google","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/google/POST/ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..auth.google","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/",{"Ref":"SerenyaApiDeploymentStagedevC49EB2C2"},"/POST/auth/google"]]}}}},"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..auth.google":{"id":"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..auth.google","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/google/POST/ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..auth.google","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/test-invoke-stage/POST/auth/google"]]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/auth/google/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}},{"statusCode":"400","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}},{"statusCode":"500","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"SerenyaApiauthgoogle2CDDBC50"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}}}}}},"user":{"id":"user","path":"SerenyaBackend-dev/SerenyaApi/Default/user","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/user/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["SerenyaApi961F1E55","RootResourceId"]},"pathPart":"user","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/user/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/user/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiuserFF13A6AA"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"profile":{"id":"profile","path":"SerenyaBackend-dev/SerenyaApi/Default/user/profile","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/user/profile/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiuserFF13A6AA"},"pathPart":"profile","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/user/profile/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/user/profile/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiuserprofileCB053673"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"GET":{"id":"GET","path":"SerenyaBackend-dev/SerenyaApi/Default/user/profile/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..user.profile":{"id":"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..user.profile","path":"SerenyaBackend-dev/SerenyaApi/Default/user/profile/GET/ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..user.profile","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserProfileFunctionF5A2461B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/",{"Ref":"SerenyaApiDeploymentStagedevC49EB2C2"},"/GET/user/profile"]]}}}},"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..user.profile":{"id":"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..user.profile","path":"SerenyaBackend-dev/SerenyaApi/Default/user/profile/GET/ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..user.profile","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserProfileFunctionF5A2461B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/test-invoke-stage/GET/user/profile"]]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/user/profile/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"CUSTOM","authorizerId":{"Ref":"JWTAuthorizerE8D8D90E"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["UserProfileFunctionF5A2461B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"SerenyaApiuserprofileCB053673"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}}}}}},"api":{"id":"api","path":"SerenyaBackend-dev/SerenyaApi/Default/api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["SerenyaApi961F1E55","RootResourceId"]},"pathPart":"api","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapi446775AA"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"v1":{"id":"v1","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapi446775AA"},"pathPart":"v1","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv14ABB7B5A"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"process":{"id":"process","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv14ABB7B5A"},"pathPart":"process","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1process29862BC2"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"upload":{"id":"upload","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/upload","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/upload/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv1process29862BC2"},"pathPart":"upload","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/upload/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/upload/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1processuploadD4F3885C"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"POST":{"id":"POST","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/upload/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.upload":{"id":"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.upload","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/upload/POST/ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.upload","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UploadFunction18838DD8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/",{"Ref":"SerenyaApiDeploymentStagedevC49EB2C2"},"/POST/api/v1/process/upload"]]}}}},"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.upload":{"id":"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.upload","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/upload/POST/ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.upload","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UploadFunction18838DD8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/test-invoke-stage/POST/api/v1/process/upload"]]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/upload/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"CUSTOM","authorizerId":{"Ref":"JWTAuthorizerE8D8D90E"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["UploadFunction18838DD8","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestParameters":{"method.request.header.Content-Type":true},"resourceId":{"Ref":"SerenyaApiapiv1processuploadD4F3885C"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}}}},"status":{"id":"status","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv1process29862BC2"},"pathPart":"status","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1processstatus741E1B89"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"{jobId}":{"id":"{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/{jobId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv1processstatus741E1B89"},"pathPart":"{jobId}","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/{jobId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/{jobId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1processstatusjobId56622832"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"GET":{"id":"GET","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/{jobId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.status.{jobId}":{"id":"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.status.{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/{jobId}/GET/ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.status.{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StatusFunction598A4497","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/",{"Ref":"SerenyaApiDeploymentStagedevC49EB2C2"},"/GET/api/v1/process/status/*"]]}}}},"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.status.{jobId}":{"id":"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.status.{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/{jobId}/GET/ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.status.{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StatusFunction598A4497","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/test-invoke-stage/GET/api/v1/process/status/*"]]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/status/{jobId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"CUSTOM","authorizerId":{"Ref":"JWTAuthorizerE8D8D90E"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["StatusFunction598A4497","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestParameters":{"method.request.path.jobId":true},"resourceId":{"Ref":"SerenyaApiapiv1processstatusjobId56622832"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}}}}}},"result":{"id":"result","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv1process29862BC2"},"pathPart":"result","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1processresult295F2A1C"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"{jobId}":{"id":"{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/{jobId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv1processresult295F2A1C"},"pathPart":"{jobId}","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/{jobId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/{jobId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1processresultjobId0A980F14"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"GET":{"id":"GET","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/{jobId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.result.{jobId}":{"id":"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.result.{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/{jobId}/GET/ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.result.{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ResultFunctionB52330A7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/",{"Ref":"SerenyaApiDeploymentStagedevC49EB2C2"},"/GET/api/v1/process/result/*"]]}}}},"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.result.{jobId}":{"id":"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.result.{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/{jobId}/GET/ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.GET..api.v1.process.result.{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ResultFunctionB52330A7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/test-invoke-stage/GET/api/v1/process/result/*"]]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/result/{jobId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"CUSTOM","authorizerId":{"Ref":"JWTAuthorizerE8D8D90E"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ResultFunctionB52330A7","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestParameters":{"method.request.path.jobId":true},"resourceId":{"Ref":"SerenyaApiapiv1processresultjobId0A980F14"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}}}}}},"retry":{"id":"retry","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv1process29862BC2"},"pathPart":"retry","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1processretryCD5D1F00"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"{jobId}":{"id":"{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/{jobId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv1processretryCD5D1F00"},"pathPart":"{jobId}","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/{jobId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/{jobId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1processretryjobId4A76E717"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"POST":{"id":"POST","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/{jobId}/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.retry.{jobId}":{"id":"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.retry.{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/{jobId}/POST/ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.retry.{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["RetryFunction31519513","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/",{"Ref":"SerenyaApiDeploymentStagedevC49EB2C2"},"/POST/api/v1/process/retry/*"]]}}}},"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.retry.{jobId}":{"id":"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.retry.{jobId}","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/{jobId}/POST/ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.retry.{jobId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["RetryFunction31519513","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/test-invoke-stage/POST/api/v1/process/retry/*"]]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/retry/{jobId}/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"CUSTOM","authorizerId":{"Ref":"JWTAuthorizerE8D8D90E"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["RetryFunction31519513","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestParameters":{"method.request.path.jobId":true},"resourceId":{"Ref":"SerenyaApiapiv1processretryjobId4A76E717"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}}}}}},"doctor-report":{"id":"doctor-report","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/doctor-report","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/doctor-report/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"SerenyaApiapiv1process29862BC2"},"pathPart":"doctor-report","restApiId":{"Ref":"SerenyaApi961F1E55"}}}},"OPTIONS":{"id":"OPTIONS","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/doctor-report/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/doctor-report/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'http://localhost:*'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,PUT,DELETE,OPTIONS'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"SerenyaApiapiv1processdoctorreport764BEBC9"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}},"POST":{"id":"POST","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/doctor-report/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[]},"children":{"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.doctor-report":{"id":"ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.doctor-report","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/doctor-report/POST/ApiPermission.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.doctor-report","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DoctorReportFunction156B2584","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/",{"Ref":"SerenyaApiDeploymentStagedevC49EB2C2"},"/POST/api/v1/process/doctor-report"]]}}}},"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.doctor-report":{"id":"ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.doctor-report","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/doctor-report/POST/ApiPermission.Test.SerenyaBackenddevSerenyaApiC0B2749B.POST..api.v1.process.doctor-report","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DoctorReportFunction156B2584","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"SerenyaApi961F1E55"},"/test-invoke-stage/POST/api/v1/process/doctor-report"]]}}}},"Resource":{"id":"Resource","path":"SerenyaBackend-dev/SerenyaApi/Default/api/v1/process/doctor-report/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"CUSTOM","authorizerId":{"Ref":"JWTAuthorizerE8D8D90E"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["DoctorReportFunction156B2584","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"SerenyaApiapiv1processdoctorreport764BEBC9"},"restApiId":{"Ref":"SerenyaApi961F1E55"}}}}}}}}}}}}}}}}}},"ApiGatewayLogGroup":{"id":"ApiGatewayLogGroup","path":"SerenyaBackend-dev/ApiGatewayLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.213.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SerenyaBackend-dev/ApiGatewayLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/apigateway/serenya-dev","retentionInDays":30}}}}},"ApiUrl":{"id":"ApiUrl","path":"SerenyaBackend-dev/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"ApiId":{"id":"ApiId","path":"SerenyaBackend-dev/ApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"TempBucketName":{"id":"TempBucketName","path":"SerenyaBackend-dev/TempBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"KmsKeyId":{"id":"KmsKeyId","path":"SerenyaBackend-dev/KmsKeyId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"DatabaseHost":{"id":"DatabaseHost","path":"SerenyaBackend-dev/DatabaseHost","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"DatabasePort":{"id":"DatabasePort","path":"SerenyaBackend-dev/DatabasePort","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"DatabaseSecretArn":{"id":"DatabaseSecretArn","path":"SerenyaBackend-dev/DatabaseSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"VpcId":{"id":"VpcId","path":"SerenyaBackend-dev/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SerenyaBackend-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"SerenyaBackend-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SerenyaBackend-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.213.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SerenyaBackend-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.213.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}